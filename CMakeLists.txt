cmake_minimum_required (VERSION 2.8.8)
project (EXAMPLE_QT)

if(NOT DEFINED USE_QT)
    set(USE_QT 5)
endif(NOT DEFINED USE_QT)

set(CMAKE_AUTOMOC ON)
set(CMAKE_INCLUDE_CURRENT_DIR ON)

set(PROJECT_SOURCES
    main.cpp
    mainwindow.cpp
    mainwindow.h
    common.h
)

add_executable (task ${PROJECT_SOURCES})

if(${USE_QT} GREATER 4)
    find_package(Qt5Widgets REQUIRED)
    target_link_libraries(task Qt5::Widgets)
else()
    find_package(Qt4 REQUIRED)
    target_link_libraries(task Qt4::QtGui)
endif()
